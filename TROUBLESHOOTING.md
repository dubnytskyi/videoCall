# üîß Troubleshooting Guide

–†—ñ—à–µ–Ω–Ω—è –ø–æ—à–∏—Ä–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º –∑ –≤—ñ–¥–µ–æ–¥–∑–≤—ñ–Ω–∫–∞–º–∏ —Ç–∞ PDF —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è–º.

## üé• –ü—Ä–æ–±–ª–µ–º–∏ –∑ –≤—ñ–¥–µ–æ

### –ß–æ—Ä–Ω—ñ –∫–≤–∞–¥—Ä–∞—Ç–∏ –∑–∞–º—ñ—Å—Ç—å –≤—ñ–¥–µ–æ

**–ü—Ä–∏—á–∏–Ω–∏:**
1. –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫—É—î –¥–æ—Å—Ç—É–ø –¥–æ –∫–∞–º–µ—Ä–∏/–º—ñ–∫—Ä–æ—Ñ–æ–Ω–∞
2. –ö–∞–º–µ—Ä–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —ñ–Ω—à–∏–º –¥–æ–¥–∞—Ç–∫–æ–º
3. –ü—Ä–æ–±–ª–µ–º–∏ –∑ Twilio —Ç–æ–∫–µ–Ω–∞–º–∏
4. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∫—ñ–º–Ω–∞—Ç–∏

**–†—ñ—à–µ–Ω–Ω—è:**

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ–∑–≤–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ —ñ–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ –≤ –∞–¥—Ä–µ—Å–Ω–æ–º—É —Ä—è–¥–∫—É
   - –î–æ–∑–≤–æ–ª—å—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ –∫–∞–º–µ—Ä–∏ —Ç–∞ –º—ñ–∫—Ä–æ—Ñ–æ–Ω–∞
   - –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ Developer Tools (F12)
   - –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console
   - –®—É–∫–∞–π—Ç–µ –ø–æ–º–∏–ª–∫–∏ –∑ Twilio –∞–±–æ –∫–∞–º–µ—Ä–æ—é

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –∫–∞–º–µ—Ä–∞ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è:**
   - –ó–∞–∫—Ä–∏–π—Ç–µ —ñ–Ω—à—ñ –¥–æ–¥–∞—Ç–∫–∏ (Zoom, Teams, Skype)
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –±—Ä–∞—É–∑–µ—Ä

4. **–¢–µ—Å—Ç—É–π—Ç–µ –∑ Debug –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É
   - –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ Video Debug Console
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π—à–ª–∏

### –í—ñ–¥–µ–æ –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —É –¥—Ä—É–≥—ñ–π –≤–∫–ª–∞–¥—Ü—ñ

**–ü—Ä–∏—á–∏–Ω–∏:**
1. –û–±–∏–¥–≤–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤—É identity
2. –ü—Ä–æ–±–ª–µ–º–∏ –∑ –ø—ñ–¥–ø–∏—Å–∫–æ—é –Ω–∞ —Ç—Ä–µ–∫–∏
3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ participant events

**–†—ñ—à–µ–Ω–Ω—è:**

1. **–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ —Ä—ñ–∑–Ω—ñ identity:**
   - –ù–æ—Ç–∞—Ä—ñ—É—Å: `identity="notary"`
   - –ö–ª—ñ—î–Ω—Ç: `identity="client"`

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ:**
   ```javascript
   // –®—É–∫–∞–π—Ç–µ —Ü—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:
   [notary] Participant connected: client
   [client] Participant connected: notary
   [notary] Track subscribed: video from client
   [client] Track subscribed: video from notary
   ```

3. **–ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –æ–±–∏–¥–≤—ñ –≤–∫–ª–∞–¥–∫–∏:**
   - –ó–∞–∫—Ä–∏–π—Ç–µ –≤—Å—ñ –≤–∫–ª–∞–¥–∫–∏
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ –Ω–æ–≤—ñ –≤–∫–ª–∞–¥–∫–∏
   - –ü—Ä–∏—î–¥–Ω–∞–π—Ç–µ—Å—å –∑–Ω–æ–≤—É

## üîó –ü—Ä–æ–±–ª–µ–º–∏ –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º

### "Failed to connect to video service"

**–ü—Ä–∏—á–∏–Ω–∏:**
1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π API URL
2. –ü—Ä–æ–±–ª–µ–º–∏ –∑ Twilio –∫–ª—é—á–∞–º–∏
3. Vercel –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

**–†—ñ—à–µ–Ω–Ω—è:**

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ API URL:**
   ```bash
   curl https://video-call-azure-two.vercel.app/api/health
   ```
   –ú–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏: `{"status":"ok","timestamp":"..."}`

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Twilio –∫–ª—é—á—ñ:**
   ```bash
   curl -X POST https://video-call-azure-two.vercel.app/api/token \
     -H "Content-Type: application/json" \
     -d '{"identity":"test","room":"test-room"}'
   ```

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ `client/src/config.ts`
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π

### "Duplicate identity error"

**–ü—Ä–∏—á–∏–Ω–∏:**
1. –û–±–∏–¥–≤–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤—É identity
2. –°—Ç–∞—Ä–∏–π —Ç–æ–∫–µ–Ω –≤—Å–µ —â–µ –∞–∫—Ç–∏–≤–Ω–∏–π

**–†—ñ—à–µ–Ω–Ω—è:**
1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä—ñ–∑–Ω—ñ identity
2. –û—á—ñ–∫–∞–π—Ç–µ 1-2 —Ö–≤–∏–ª–∏–Ω–∏ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–∏–º –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º
3. –û—á–∏—Å—Ç—ñ—Ç—å localStorage –±—Ä–∞—É–∑–µ—Ä–∞

## üìÑ –ü—Ä–æ–±–ª–µ–º–∏ –∑ PDF

### PDF –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è

**–ü—Ä–∏—á–∏–Ω–∏:**
1. –§–∞–π–ª `sample.pdf` –≤—ñ–¥—Å—É—Ç–Ω—ñ–π
2. –ü—Ä–æ–±–ª–µ–º–∏ –∑ PDF.js
3. CORS –ø–æ–º–∏–ª–∫–∏

**–†—ñ—à–µ–Ω–Ω—è:**

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–∞–π–ª PDF:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ `client/public/sample.pdf`
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ñ–∞–π–ª —ñ—Å–Ω—É—î

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å:**
   - –®—É–∫–∞–π—Ç–µ –ø–æ–º–∏–ª–∫–∏ PDF.js
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ CORS –ø–æ–º–∏–ª–∫–∏

3. **–û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞:**
   - Ctrl+Shift+R (–∞–±–æ Cmd+Shift+R –Ω–∞ Mac)
   - –ê–±–æ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ —Ä–µ–∂–∏–º—ñ —ñ–Ω–∫–æ–≥–Ω—ñ—Ç–æ

### PDF —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î—Ç—å—Å—è

**–ü—Ä–∏—á–∏–Ω–∏:**
1. –ü—Ä–æ–±–ª–µ–º–∏ –∑ DataTrack
2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
3. –ü—Ä–æ–±–ª–µ–º–∏ –∑ JSON –ø–∞—Ä—Å–∏–Ω–≥–æ–º

**–†—ñ—à–µ–Ω–Ω—è:**

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ DataTrack –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:**
   - –í –∫–æ–Ω—Å–æ–ª—ñ –º–∞—î –±—É—Ç–∏: `Track subscribed: data`
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –Ω–µ–º–∞—î –ø–æ–º–∏–ª–æ–∫ JSON

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –º–µ—Ä–µ–∂–µ–≤–∏–π —Ç—Ä–∞—Ñ—ñ–∫:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ Network tab –≤ DevTools
   - –®—É–∫–∞–π—Ç–µ WebSocket –∑'—î–¥–Ω–∞–Ω–Ω—è

## üõ†Ô∏è –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ö—Ä–æ–∫ 1: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –±–∞–∑–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É**
2. **–ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ Video Debug Console**
3. **–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π—à–ª–∏**

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ Developer Tools (F12)**
2. **–ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console**
3. **–®—É–∫–∞–π—Ç–µ –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è**

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –º–µ—Ä–µ–∂–µ–≤–∏–π —Ç—Ä–∞—Ñ—ñ–∫

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∫–ª–∞–¥–∫—É Network**
2. **–û—á–∏—Å—Ç—ñ—Ç—å –ª–æ–≥ (üö´)**
3. **–ü—Ä–∏—î–¥–Ω–∞–π—Ç–µ—Å—å –¥–æ –∫—ñ–º–Ω–∞—Ç–∏**
4. **–®—É–∫–∞–π—Ç–µ –∑–∞–ø–∏—Ç–∏ –¥–æ API —Ç–∞ WebSocket –∑'—î–¥–Ω–∞–Ω–Ω—è**

### –ö—Ä–æ–∫ 4: –¢–µ—Å—Ç—É–π—Ç–µ –ø–æ–µ—Ç–∞–ø–Ω–æ

1. **–°–ø–æ—á–∞—Ç–∫—É —Ç–µ—Å—Ç—É–π—Ç–µ –∑ –æ–¥–Ω—ñ—î—é –≤–∫–ª–∞–¥–∫–æ—é**
2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–µ –≤—ñ–¥–µ–æ**
3. **–ü–æ—Ç—ñ–º –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –¥—Ä—É–≥—É –≤–∫–ª–∞–¥–∫—É**
4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—ñ–¥–∫–ª—é—á–∞—é—Ç—å—Å—è —É—á–∞—Å–Ω–∏–∫–∏**

## üìû –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–ø–æ–º–æ–≥–∏

### –õ–æ–≥–∏ –¥–ª—è –Ω–∞–¥–∞–Ω–Ω—è

–ö–æ–ª–∏ –∑–≤–µ—Ä—Ç–∞—î—Ç–µ—Å—å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é, –Ω–∞–¥–∞–π—Ç–µ:

1. **–°–∫—Ä—ñ–Ω—à–æ—Ç –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞**
2. **–°–∫—Ä—ñ–Ω—à–æ—Ç Video Debug Console**
3. **–û–ø–∏—Å –∫—Ä–æ–∫—ñ–≤, —è–∫—ñ –ø—Ä–∏–∑–≤–µ–ª–∏ –¥–æ –ø—Ä–æ–±–ª–µ–º–∏**
4. **–ë—Ä–∞—É–∑–µ—Ä —Ç–∞ –≤–µ—Ä—Å—ñ—é (Chrome, Firefox, Safari)**

### –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API
curl https://video-call-azure-two.vercel.app/api/health

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤
curl -X POST https://video-call-azure-two.vercel.app/api/token \
  -H "Content-Type: application/json" \
  -d '{"identity":"test","room":"test-room"}'

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ ngrok
ngrok status
```

## üéØ –®–≤–∏–¥–∫—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å—å–æ–≥–æ
```bash
# –ó—É–ø–∏–Ω–∏—Ç–∏ –≤—Å—ñ –ø—Ä–æ—Ü–µ—Å–∏
pkill -f "vite"
pkill -f "ngrok"

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–Ω–æ–≤—É
./start-dev-with-ngrok.sh
```

### –û—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ DevTools (F12)
2. –ö–ª—ñ–∫–Ω—ñ—Ç—å –ø—Ä–∞–≤–æ—é –∫–Ω–æ–ø–∫–æ—é –Ω–∞ –∫–Ω–æ–ø–∫—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
3. –í–∏–±–µ—Ä—ñ—Ç—å "Empty Cache and Hard Reload"

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–∑–≤–æ–ª—ñ–≤
1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ —ñ–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ –≤ –∞–¥—Ä–µ—Å–Ω–æ–º—É —Ä—è–¥–∫—É
2. –î–æ–∑–≤–æ–ª—å—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ –∫–∞–º–µ—Ä–∏ —Ç–∞ –º—ñ–∫—Ä–æ—Ñ–æ–Ω–∞
3. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É






