# ๐ Development Setup - Vercel Server + ngrok Frontend

ะะฟัะธะผะฐะปัะฝะธะน ะฟัะดััะด ะดะปั ัะฒะธะดะบะพั ัะพะทัะพะฑะบะธ: ัะตัะฒะตั ะฝะฐ Vercel, ััะพะฝัะตะฝะด ะปะพะบะฐะปัะฝะพ ะท ngrok.

## ๐ฏ ะะตัะตะฒะฐะณะธ ััะพะณะพ ะฟัะดัะพะดั

- โ **ะกัะฐะฑัะปัะฝะธะน ัะตัะฒะตั** - ะทะฐะฒะถะดะธ ะดะพัััะฟะฝะธะน ะฝะฐ Vercel
- โ **ะจะฒะธะดะบะฐ ัะพะทัะพะฑะบะฐ** - ะทะผัะฝะธ ััะพะฝัะตะฝะดั ะผะธัััะฒะพ
- โ **ะะตะณะบะต ัะตัััะฒะฐะฝะฝั** - ngrok ะดะฐั ะฟัะฑะปััะฝะธะน URL
- โ **ะะตะทะบะพััะพะฒะฝะพ** - Vercel + ngrok ะฑะตะทะบะพััะพะฒะฝั
- โ **ะัะพััะพัะฐ** - ะพะดะธะฝ ัะบัะธะฟั ะทะฐะฟััะบะฐั ะฒัะต

## ๐ ะจะฒะธะดะบะธะน ััะฐัั

### 1. ะัะดะณะพัะพะฒะบะฐ
```bash
# ะััะฐะฝะพะฒะธัะธ ngrok (ัะบัะพ ัะต ะฝะต ะฒััะฐะฝะพะฒะปะตะฝะธะน)
brew install ngrok/ngrok/ngrok

# ะััะตะฝัะธััะบัะฒะฐัะธ ngrok
ngrok config add-authtoken YOUR_TOKEN
```

### 2. ะะฐะฟััะบ
```bash
# ะะฐะฟัััะธัะธ ะฒัะต ะพะดัะฐะทั
./start-dev-with-ngrok.sh
```

### 3. ะขะตัััะฒะฐะฝะฝั
- ะัะดะบัะธะนัะต ngrok URL ั ะดะฒะพั ะฒะบะปะฐะดะบะฐั
- ะัะธัะดะฝะฐะนัะตัั ัะบ "Notary" ะฒ ะพะดะฝัะน
- ะัะธัะดะฝะฐะนัะตัั ัะบ "Client" ะฒ ัะฝััะน
- ะขะตัััะนัะต ะฒัะดะตะพะดะทะฒัะฝะบะธ ัะฐ PDF ัะตะดะฐะณัะฒะฐะฝะฝั

## ๐ง ะะตัะฐะปัะฝะฐ ัะฝััััะบััั

### ะัะพะบ 1: ะะฐะปะฐัััะฒะฐะฝะฝั ngrok

1. **ะะฐัะตัััััะฒะฐัะธัั** ะฝะฐ [ngrok.com](https://ngrok.com)
2. **ะััะธะผะฐัะธ authtoken** ะท dashboard
3. **ะััะฐะฝะพะฒะธัะธ ngrok:**
   ```bash
   # macOS
   brew install ngrok/ngrok/ngrok
   
   # Linux
   curl -s https://ngrok-agent.s3.amazonaws.com/ngrok.asc | sudo tee /etc/apt/trusted.gpg.d/ngrok.asc >/dev/null
   echo "deb https://ngrok-agent.s3.amazonaws.com buster main" | sudo tee /etc/apt/sources.list.d/ngrok.list
   sudo apt update && sudo apt install ngrok
   ```

4. **ะััะตะฝัะธััะบัะฒะฐัะธ:**
   ```bash
   ngrok config add-authtoken YOUR_TOKEN
   ```

### ะัะพะบ 2: ะะฐะฟััะบ ัะพะทัะพะฑะบะธ

```bash
# ะะฒัะพะผะฐัะธัะฝะธะน ะทะฐะฟััะบ
./start-dev-with-ngrok.sh

# ะะฑะพ ะฒัััะฝั:
# ะขะตัะผัะฝะฐะป 1: ะะฐะฟัััะธัะธ ะบะปััะฝั
cd client && npm run dev

# ะขะตัะผัะฝะฐะป 2: ะะฐะฟัััะธัะธ ngrok
ngrok http 5173
```

### ะัะพะบ 3: ะขะตัััะฒะฐะฝะฝั

1. **ะััะธะผะฐัะธ ngrok URL** ะท ะบะพะฝัะพะปั
2. **ะัะดะบัะธัะธ ะฒ ะฑัะฐัะทะตัั** ั ะดะฒะพั ะฒะบะปะฐะดะบะฐั
3. **ะขะตัััะฒะฐัะธ ััะฝะบััะพะฝะฐะป:**
   - ะัะดะตะพะดะทะฒัะฝะบะธ
   - PDF ัะตะดะฐะณัะฒะฐะฝะฝั
   - ะกะธะฝััะพะฝัะทะฐััั ะดะฐะฝะธั

## ๐ ะััััะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Frontend      โ    โ   ngrok tunnel   โ    โ   Vercel API    โ
โ   (localhost)   โโโโโบโ   (public URL)   โโโโโบโ   (production)  โ
โ   :5173         โ    โ   ngrok.io       โ    โ   vercel.app    โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

## ๐ง ะะพะฝััะณััะฐััั

### ะะฒัะพะผะฐัะธัะฝะต ะฒะธะทะฝะฐัะตะฝะฝั URL
ะะปััะฝั ะฐะฒัะพะผะฐัะธัะฝะพ ะฒะธะทะฝะฐัะฐั, ัะบะธะน ัะตัะฒะตั ะฒะธะบะพัะธััะพะฒัะฒะฐัะธ:

```typescript
// client/src/config.ts
export function getServerUrl(): string {
  // Vercel production
  if (window.location.hostname.includes("vercel.app")) {
    return `https://${window.location.hostname}`;
  }
  
  // ngrok development
  if (window.location.hostname.includes("ngrok")) {
    return "https://video-call-1rxqdfgut-taldevs-projects-f39a0564.vercel.app";
  }
  
  // Local development
  return "http://localhost:4000";
}
```

## ๐ ะะพััะฒะฝัะฝะฝั ะฟัะดัะพะดัะฒ

| ะัะดััะด | ะกะตัะฒะตั | ะคัะพะฝัะตะฝะด | ะกะบะปะฐะดะฝัััั | ะจะฒะธะดะบัััั |
|--------|--------|----------|------------|-----------|
| **ะะพะบะฐะปัะฝะพ** | localhost:4000 | localhost:5173 | ๐ข ะะตะณะบะพ | ๐ข ะจะฒะธะดะบะพ |
| **Vercel + ngrok** | vercel.app | ngrok.io | ๐ก ะกะตัะตะดะฝัะพ | ๐ข ะจะฒะธะดะบะพ |
| **ะะพะฒะฝะธะน Vercel** | vercel.app | vercel.app | ๐ก ะกะตัะตะดะฝัะพ | ๐ก ะะพะฒัะปัะฝะพ |

## ๐๏ธ Troubleshooting

### ngrok ะฝะต ะทะฐะฟััะบะฐััััั
```bash
# ะะตัะตะฒััะธัะธ ะฐััะตะฝัะธััะบะฐััั
ngrok config check

# ะะตัะตะฒััะธัะธ ััะฐััั
ngrok status
```

### API ะฝะต ะฟัะฐััั
```bash
# ะขะตัััะฒะฐัะธ API
./test-api.sh

# ะะตัะตะฒััะธัะธ ะฒ ะฑัะฐัะทะตัั
open https://video-call-1rxqdfgut-taldevs-projects-f39a0564.vercel.app/api/health
```

### CORS ะฟะพะผะธะปะบะธ
- ะะตัะตะฒััะธัะธ, ัะธ ะฟัะฐะฒะธะปัะฝะพ ะฝะฐะปะฐััะพะฒะฐะฝะธะน `getServerUrl()`
- ะะตัะตะบะพะฝะฐัะธัั, ัะพ ะฒะธะบะพัะธััะพะฒัััััั ะฟัะฐะฒะธะปัะฝะธะน API URL

## ๐ ะะพัะธัะฝั ะบะพะผะฐะฝะดะธ

```bash
# ะะฐะฟััะบ ัะพะทัะพะฑะบะธ
./start-dev-with-ngrok.sh

# ะขะตัััะฒะฐะฝะฝั API
./test-api.sh

# ะะตัะตะฒััะบะฐ ngrok
ngrok status

# ะะพะณะธ ngrok
ngrok http 5173 --log=stdout
```

## ๐ ะะฐัััะฟะฝั ะบัะพะบะธ

1. โ ะะฐะปะฐัััะฒะฐัะธ ngrok
2. โ ะะฐะฟัััะธัะธ ัะพะทัะพะฑะบั
3. โ ะัะพัะตัััะฒะฐัะธ ััะฝะบััะพะฝะฐะป
4. โ ะะพะทัะพะฑะธัะธ ะฝะพะฒั ัััั
5. โ ะะตะฟะปะพะน ะฝะฐ Vercel (ะบะพะปะธ ะณะพัะพะฒะพ)

## ๐ก ะะพัะฐะดะธ

- **ะะธะบะพัะธััะพะฒัะนัะต ngrok Pro** ะดะปั ััะฐะฑัะปัะฝะธั URL
- **ะะฑะตััะณะฐะนัะต ngrok URL** ะดะปั ัะตัััะฒะฐะฝะฝั
- **ะะพะฝััะพัััะต ะปะพะณะธ** ะฟัะธ ัะพะทัะพะฑัั
- **ะขะตัััะนัะต ะฝะฐ ััะทะฝะธั ะฟัะธัััะพัั** ัะตัะตะท ngrok
- **ะะตะณัะปััะฝะพ ะพะฝะพะฒะปัะนัะต** ะทะฐะปะตะถะฝะพััั






